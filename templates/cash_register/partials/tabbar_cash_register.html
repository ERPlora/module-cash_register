{% load i18n ui %}

{% with cv=current_view|default:"dashboard" %}
<ion-footer id="dashboard-tabbar"{% if oob %} hx-swap-oob="outerHTML"{% endif %}>
<ion-tab-bar>
    {% url 'cash_register:dashboard' as dashboard_url %}
    {% url 'cash_register:history' as history_url %}
    {% url 'cash_register:settings' as settings_url %}

    <ion-tab-button
        hx-get="{{ dashboard_url }}"
        hx-target="#main-content-area"
        hx-push-url="true"
        class="{% if cv == 'dashboard' %}tab-selected{% endif %}">
        <ion-icon name="home-outline"></ion-icon>
        <ion-label>{% trans "Overview" %}</ion-label>
    </ion-tab-button>

    {% if open_session %}
    <ion-tab-button
        hx-get="{% url 'cash_register:close_session' %}"
        hx-target="#main-content-area"
        hx-push-url="true"
        class="{% if cv == 'close' %}tab-selected{% endif %}">
        <ion-icon name="lock-closed-outline"></ion-icon>
        <ion-label>{% trans "Close" %}</ion-label>
    </ion-tab-button>
    {% else %}
    <ion-tab-button
        hx-get="{% url 'cash_register:open_session' %}"
        hx-target="#main-content-area"
        hx-push-url="true"
        class="{% if cv == 'open' %}tab-selected{% endif %}">
        <ion-icon name="lock-open-outline"></ion-icon>
        <ion-label>{% trans "Open" %}</ion-label>
    </ion-tab-button>
    {% endif %}

    <ion-tab-button
        hx-get="{{ history_url }}"
        hx-target="#main-content-area"
        hx-push-url="true"
        class="{% if cv == 'history' %}tab-selected{% endif %}">
        <ion-icon name="time-outline"></ion-icon>
        <ion-label>{% trans "History" %}</ion-label>
    </ion-tab-button>

    <ion-tab-button
        hx-get="{{ settings_url }}"
        hx-target="#main-content-area"
        hx-push-url="true"
        class="{% if cv == 'settings' %}tab-selected{% endif %}">
        <ion-icon name="settings-outline"></ion-icon>
        <ion-label>{% trans "Settings" %}</ion-label>
    </ion-tab-button>
</ion-tab-bar>
</ion-footer>
{% endwith %}
